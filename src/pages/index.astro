---
import Layout from "../layouts/Layout.astro";
import Content from "../components/Content.tsx";
import { ALL_PROJECTS } from "../data/projects.ts";

const title = "Home Page";
const name = "Sayyid Sakhiy Sulaeman";
const birthDate = new Date(2006, 8, 17);

function getAgeParts(birth: Date) {
  const today = new Date();
  let years = today.getFullYear() - birth.getFullYear();
  const thisYearBirthday = new Date(today.getFullYear(), birth.getMonth(), birth.getDate());
  if (today < thisYearBirthday) years--;
  const lastBirthday = new Date(birth.getFullYear() + years, birth.getMonth(), birth.getDate());
  const days = Math.floor((today.getTime() - lastBirthday.getTime()) / (1000 * 60 * 60 * 24));
  return { years, days };
}

const { years, days } = getAgeParts(birthDate);
const ageText = `${years} years, ${days} days`;

const descriptionPoints: string[] = [
  `A ${ageText} web developer and designer.`,
  "Learning on JavaScript and TypeScript.",
  "Also still learning design and drawing.",
  "You can find me on Twitter at @Sayskh_",
];
const featuredProjectsData = ALL_PROJECTS.slice(0, 2);
---

<Layout title={title}>
  <main class="max-w-4xl mx-auto px-4 py-16 sm:py-24">
    <Content
      client:visible
      name={name}
      descriptionPoints={descriptionPoints}
      featuredProjects={featuredProjectsData}
    />
  </main>
</Layout>
